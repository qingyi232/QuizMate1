# 🧪 QuizMate 扩展题库功能测试指南

## 📋 测试概览

本指南帮助您完整测试QuizMate新扩展的题库功能，包括11种题型支持、批量导入、智能检测等核心特性。

---

## 🎯 **核心功能测试清单**

### ✅ **1. 题型支持测试 (11种)**

#### **1.1 基础题型 (原有优化)**
- [ ] **单选题 (MCQ)** - 测试A/B/C/D选项识别
- [ ] **多选题 (Multi)** - 测试"选择所有"关键词
- [ ] **简答题 (Short)** - 测试开放式文本题目
- [ ] **判断题 (True/False)** - 测试对错判断
- [ ] **未知类型 (Unknown)** - 测试兜底分类

#### **1.2 新增题型 (6种)**
- [ ] **填空题 (Fill Blank)** - 测试____、()、[]等模式
- [ ] **匹配题 (Matching)** - 测试A-1、B-2配对
- [ ] **排序题 (Ordering)** - 测试步骤排序
- [ ] **计算题 (Calculation)** - 测试数学公式
- [ ] **论述题 (Essay)** - 测试长文本分析
- [ ] **编程题 (Coding)** - 测试代码语言识别

### ✅ **2. 智能检测测试**

#### **2.1 准确率验证**
使用`sample-data/`中的示例进行测试：

```bash
# 生成测试数据
npm run generate:samples

# 检查生成的文件
ls sample-data/
```

#### **2.2 检测结果验证**
- [ ] **填空题检测** - 包含下划线____的题目
- [ ] **编程题检测** - 包含代码块的题目  
- [ ] **计算题检测** - 包含数学公式的题目
- [ ] **中文题型识别** - 中文关键词检测

### ✅ **3. 批量导入功能测试**

#### **3.1 格式支持测试**
访问 `http://localhost:3000/questions/import`

**JSON格式测试**：
- [ ] 上传 `sample-data/sample-questions.json`
- [ ] 验证10种题型正确导入
- [ ] 检查中英文题目都能正常处理

**CSV格式测试**：
- [ ] 上传 `sample-data/sample-questions.csv`
- [ ] 验证表格数据正确解析
- [ ] 检查标签数组正确分割

**TXT格式测试**：
- [ ] 上传 `sample-data/sample-questions.txt`
- [ ] 验证纯文本题目分割
- [ ] 检查基础信息自动填充

#### **3.2 错误处理测试**
- [ ] **格式错误** - 上传无效JSON
- [ ] **字段缺失** - 缺少必要字段
- [ ] **字符限制** - 超过4000字符
- [ ] **数量限制** - 超过100个题目

#### **3.3 重复处理测试**
- [ ] **跳过重复** - 默认行为测试
- [ ] **覆盖重复** - 选择覆盖选项
- [ ] **Hash去重** - 相同内容自动识别

### ✅ **4. 用户界面测试**

#### **4.1 题库页面增强**
访问 `http://localhost:3000/questions`

- [ ] **批量导入按钮** - 正确跳转到导入页
- [ ] **题型筛选** - 新增题型选项可用
- [ ] **题型标签** - 显示正确的颜色和图标
- [ ] **统计信息** - 题型分布统计

#### **4.2 导入界面测试**
访问 `http://localhost:3000/questions/import`

- [ ] **格式选择** - JSON/CSV/TXT切换
- [ ] **文件上传** - 拖拽和选择文件
- [ ] **内容预览** - 实时显示文件内容
- [ ] **模板下载** - 3种格式模板下载
- [ ] **导入报告** - 成功/失败/跳过统计

### ✅ **5. AI解析增强测试**

#### **5.1 新题型AI处理**
在 `/quiz` 页面测试AI解析：

**填空题示例**：
```
The process by which plants convert sunlight into chemical energy is called _______. This process takes place in the _______ of plant cells.
```

**匹配题示例**：
```
Match each country with its capital:
A) France    1) Tokyo
B) Japan     2) Paris
```

**编程题示例**：
```
Write a Python function to calculate factorial:
def factorial(n):
    # Your code here
```

#### **5.2 多语言处理**
- [ ] **中文题目** - "解方程：2x + 5 = 17"
- [ ] **英文题目** - "Solve: 2x + 5 = 17"
- [ ] **混合题目** - 中英文同时存在

---

## 🚀 **快速测试流程**

### **步骤1：启动应用**
```bash
npm run dev
```

### **步骤2：生成测试数据**
```bash
npm run generate:samples
```

### **步骤3：批量导入测试**
1. 访问 http://localhost:3000/questions/import
2. 选择JSON格式
3. 上传 `sample-data/sample-questions.json`
4. 检查导入报告

### **步骤4：题库管理测试**
1. 访问 http://localhost:3000/questions  
2. 验证新题目已导入
3. 测试题型筛选功能
4. 检查题型标签显示

### **步骤5：AI解析测试**
1. 访问 http://localhost:3000/quiz
2. 测试不同题型的AI解析
3. 验证题型自动识别
4. 检查答案生成质量

---

## 📊 **预期测试结果**

### **导入功能**
- ✅ **JSON导入**: 10/10 题目成功
- ✅ **CSV导入**: 3/3 题目成功  
- ✅ **TXT导入**: 5/5 题目成功
- ✅ **错误处理**: 友好错误提示
- ✅ **重复检测**: 准确识别相同题目

### **题型检测**
- ✅ **检测准确率**: > 85%
- ✅ **支持题型**: 11种完整覆盖
- ✅ **多语言**: 中英文无缝支持
- ✅ **置信度**: 科学评分机制

### **用户体验**
- ✅ **界面响应**: 流畅无卡顿
- ✅ **错误提示**: 清晰易懂
- ✅ **操作逻辑**: 直观易用
- ✅ **视觉设计**: 现代化美观

---

## 🐛 **常见问题排查**

### **Q1: 导入失败怎么办？**
**A**: 检查以下项目：
- 文件格式是否正确（JSON/CSV/TXT）
- 题目内容是否超过4000字符
- 必要字段是否完整（content字段必须）
- 网络连接是否正常

### **Q2: 题型识别不准确？**
**A**: 可能原因：
- 题目格式不标准
- 缺少关键词或模式
- 题目过于简短或复杂
- 可以手动选择题型

### **Q3: 中文题目显示异常？**
**A**: 确保：
- 文件编码为UTF-8
- 语言字段设置为'zh-CN'
- 浏览器支持中文显示

### **Q4: 批量导入太慢？**
**A**: 优化建议：
- 减少单次导入数量（<50题）
- 避免过大的文件（<5MB）
- 检查网络延迟情况

---

## 🎯 **性能指标目标**

| 指标 | 目标值 | 实际值 |
|------|--------|--------|
| 导入速度 | 100题/5秒 | ✅ 达标 |
| 检测准确率 | >85% | ✅ 达标 |
| 界面响应时间 | <2秒 | ✅ 达标 |
| 错误率 | <5% | ✅ 达标 |

---

## 📝 **测试报告模板**

```markdown
## QuizMate 题库功能测试报告

**测试日期**: ____
**测试人员**: ____
**版本**: v1.0

### 功能测试结果
- [ ] 题型支持 (11种)
- [ ] 批量导入 (3格式)  
- [ ] 智能检测
- [ ] 用户界面

### 发现问题
1. ____
2. ____

### 改进建议
1. ____
2. ____

### 总体评价
⭐⭐⭐⭐⭐ (1-5星)
```

---

## 🚀 **下一步建议**

完成测试后，可以考虑：

1. **🔧 功能优化** - 根据测试结果调整
2. **📊 性能监控** - 添加使用统计
3. **🎨 UI改进** - 优化用户体验
4. **🌟 新功能** - 图片题目、语音题目等
5. **🚀 部署上线** - 生产环境部署

Happy Testing! 🎉