# 🚀 QuizMate 数据库配置指南

## 🎯 从演示模式升级到生产环境

您目前使用的是**演示模式**，数据仅保存在本地浏览器中。为了获得完整的国际化平台体验，请按以下步骤配置真实数据库。

---

## 📋 **为什么需要真实数据库？**

### ❌ **演示模式局限性**
- 单设备限制，无法跨设备访问
- 清除浏览器缓存会丢失所有数据
- 不支持用户认证和多用户
- 无法实现团队协作功能
- 存储容量限制（~5-10MB）

### ✅ **真实数据库优势**
- 🌍 **全球访问**: 任何设备、任何地点
- 🔐 **用户系统**: 安全的登录注册
- 👥 **团队协作**: 多用户共享题库
- ☁️ **云端同步**: 数据永不丢失
- 📈 **无限扩展**: 支持大量数据
- 🌐 **国际化**: 真正的全球平台

---

## 🛠️ **配置步骤**

### **步骤1: 注册Supabase账户**
1. 访问 [Supabase.com](https://supabase.com)
2. 点击 "Start your project" 
3. 使用GitHub账户登录（推荐）

### **步骤2: 创建新项目**
1. 点击 "New Project"
2. 选择组织（或创建新组织）
3. 填写项目信息：
   - **项目名**: `QuizMate`
   - **数据库密码**: 设置强密码（请保存好）
   - **地区**: 选择离您最近的地区
4. 点击 "Create new project"

### **步骤3: 获取配置信息**
等待项目创建完成（约2分钟），然后：

1. 进入项目 → "Settings" → "API"
2. 复制以下信息：
   - **Project URL**: `https://xxx.supabase.co`
   - **anon public key**: `eyJhbGciOiJIUzI1NiIsInR5...`

### **步骤4: 配置环境变量**
1. 在QuizMate项目根目录创建 `.env.local` 文件
2. 添加以下内容：

```env
# Supabase配置
NEXT_PUBLIC_SUPABASE_URL=你的Project URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=你的anon public key
SUPABASE_SERVICE_ROLE_KEY=你的service_role key

# AI配置（可选）
OPENAI_API_KEY=你的OpenAI API Key
AI_PROVIDER=openai

# 其他配置
MAX_FREE_REQUESTS_PER_DAY=50
MODEL_FREE=gpt-4o-mini
MODEL_PAID=gpt-4o-mini
```

### **步骤5: 初始化数据库**
```bash
# 重启开发服务器
npm run dev

# 访问应用，系统会自动创建必要的数据表
```

---

## 📊 **数据迁移**

### **导出演示数据**
1. 在演示模式页面点击 "导出数据" 按钮
2. 下载 JSON 文件保存您的题目

### **导入到真实数据库**
1. 配置完数据库后，重新访问应用
2. 注册新账户或登录
3. 进入 "题库中心" → "批量导入题目"
4. 上传之前导出的 JSON 文件

---

## 🌟 **配置完成后的新功能**

- ✅ **用户认证**: 安全的注册登录系统
- ✅ **跨设备同步**: 手机、电脑无缝切换
- ✅ **云端存储**: 数据永久保存
- ✅ **实时同步**: 多设备实时更新
- ✅ **团队协作**: 邀请同事共同管理题库
- ✅ **高级功能**: AI解析、智能推荐等

---

## 🆘 **需要帮助？**

### **常见问题**
- **Q**: 配置后还是显示演示模式？
- **A**: 请检查 `.env.local` 文件是否正确，重启开发服务器

- **Q**: 数据库连接失败？
- **A**: 确认 Supabase 项目URL和密钥正确，检查网络连接

### **技术支持**
- 📧 邮箱: support@quizmate.com
- 📱 微信: QuizMate-Support
- 🌐 文档: https://docs.quizmate.com

---

## 💰 **成本说明**

### **Supabase定价**
- 🆓 **免费版**: 500MB存储 + 50,000次API请求/月
- 💼 **Pro版**: $25/月，8GB存储 + 500万次API请求/月

### **推荐配置**
- 🏠 **个人使用**: 免费版足够
- 🏢 **团队使用**: Pro版，支持更多用户和数据
- 🌍 **企业版**: 联系我们定制方案

---

**🎉 配置完成后，您就拥有了一个真正的国际化学习平台！**